"use strict";(self.webpackChunkfrontend=self.webpackChunkfrontend||[]).push([[913],{9913:function(n,e,t){t.r(e),t.d(e,{default:function(){return g}});var a,i=t(4165),r=t(1413),s=t(5861),c=t(3263),o=t(2791),d=t(9743),l=t(2677),u=t(1398),h=t(3360),f=t(9140),m=t(6907),x=t(1087),p=t(2597),v=t(2619),Z=t(168),j=t(6444).ZP.img(a||(a=(0,Z.Z)(["\n  height: 80px;\n"]))),b=t(7689),y=t(184),g=function(){var n=(0,o.useContext)(v.y),e=n.state,t=n.dispatch,a=e.cart.cartItems,Z=(0,b.s0)(),g=function(){var n=(0,s.Z)((0,i.Z)().mark((function n(e,a){var s;return(0,i.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,c.Z.get("http://localhost:3001/api/products/".concat(e._id));case 2:if(s=n.sent,!(s.data.countInStock<a)){n.next=7;break}return window.alert("Desculpe o produto esta fora de estoque"),n.abrupt("return");case 7:t({type:"CART_ADD_ITEM",payload:(0,r.Z)((0,r.Z)({},e),{},{quantity:a})});case 8:case"end":return n.stop()}}),n)})));return function(e,t){return n.apply(this,arguments)}}();return(0,y.jsxs)("div",{children:[(0,y.jsx)(m.ql,{children:(0,y.jsx)("title",{children:"Carrinho de compras"})}),(0,y.jsx)("h1",{children:"Carrinho"}),(0,y.jsxs)(d.Z,{children:[(0,y.jsx)(l.Z,{md:8,children:0===a.length?(0,y.jsxs)(p._p,{children:["Carrinho vazio. ",(0,y.jsx)(x.Link,{to:"/",children:"Voltar as compras"})]}):(0,y.jsx)(u.Z,{children:a.map((function(n){return(0,y.jsx)(u.Z.Item,{children:(0,y.jsxs)(d.Z,{className:"align-items-center",children:[(0,y.jsxs)(l.Z,{md:4,children:[(0,y.jsx)(j,{src:n.image,alt:n.name,className:"img-fluid rounded"})," ",(0,y.jsx)(x.Link,{to:"/product/".concat(n.slug),children:n.name})]}),(0,y.jsxs)(l.Z,{md:3,children:[(0,y.jsx)(h.Z,{variant:"light",disabled:1===n.quantity,onClick:function(){return g(n,n.quantity-1)},children:(0,y.jsx)("i",{className:"fas fa-minus-circle"})})," ",(0,y.jsx)(h.Z,{variant:"light",disabled:n.quantity===n.countInStock,onClick:function(){return g(n,n.quantity+1)},children:(0,y.jsx)("i",{className:"fas fa-plus-circle"})})," "]}),(0,y.jsxs)(l.Z,{md:3,children:["R$",n.price]}),(0,y.jsx)(l.Z,{md:2,children:(0,y.jsx)(h.Z,{variant:"light",onClick:function(){return function(n){t({type:"CART_REMOVE_ITEM",payload:n})}(n)},children:(0,y.jsx)("i",{className:"fas fa-trash"})})})]})},n._id)}))})}),(0,y.jsx)(l.Z,{md:4,children:(0,y.jsx)(f.Z,{children:(0,y.jsx)(f.Z.Body,{children:(0,y.jsxs)(u.Z,{variant:"flush",children:[(0,y.jsx)(u.Z.Item,{children:(0,y.jsxs)("h3",{children:["Subtotal (",a.reduce((function(n,e){return n+e.quantity}),0)," ","items) : R$",a.reduce((function(n,e){return n+e.price*e.quantity}),0)]})}),(0,y.jsx)(u.Z.Item,{children:(0,y.jsx)("div",{className:"d-grid",children:(0,y.jsx)(h.Z,{type:"button",variant:"primary",disabled:0===a.length,onClick:function(){Z("/signin?redirect=/shipping")},children:"Prosseguir com o pagamento"})})})]})})})})]})]})}},1398:function(n,e,t){t.d(e,{Z:function(){return y}});var a=t(1413),i=t(5987),r=t(1694),s=t.n(r),c=t(2791),o=(t(2391),t(8580)),d=t(1337),l=t(162),u=t(9439),h=t(9007),f=t(4787),m=t(8633),x=t(184),p=["bsPrefix","active","disabled","eventKey","className","variant","action","as"],v=c.forwardRef((function(n,e){var t=n.bsPrefix,r=n.active,c=n.disabled,o=n.eventKey,d=n.className,v=n.variant,Z=n.action,j=n.as,b=(0,i.Z)(n,p);t=(0,l.vE)(t,"list-group-item");var y=(0,f.v)((0,a.Z)({key:(0,m.h)(o,b.href),active:r},b)),g=(0,u.Z)(y,2),k=g[0],C=g[1],N=(0,h.Z)((function(n){if(c)return n.preventDefault(),void n.stopPropagation();k.onClick(n)}));c&&void 0===b.tabIndex&&(b.tabIndex=-1,b["aria-disabled"]=!0);var I=j||(Z?b.href?"a":"button":"div");return(0,x.jsx)(I,(0,a.Z)((0,a.Z)((0,a.Z)({ref:e},b),k),{},{onClick:N,className:s()(d,t,C.isActive&&"active",c&&"disabled",v&&"".concat(t,"-").concat(v),Z&&"".concat(t,"-action"))}))}));v.displayName="ListGroupItem";var Z=v,j=["className","bsPrefix","variant","horizontal","numbered","as"],b=c.forwardRef((function(n,e){var t,r=(0,o.Ch)(n,{activeKey:"onSelect"}),c=r.className,u=r.bsPrefix,h=r.variant,f=r.horizontal,m=r.numbered,p=r.as,v=void 0===p?"div":p,Z=(0,i.Z)(r,j),b=(0,l.vE)(u,"list-group");return f&&(t=!0===f?"horizontal":"horizontal-".concat(f)),(0,x.jsx)(d.Z,(0,a.Z)((0,a.Z)({ref:e},Z),{},{as:v,className:s()(c,b,h&&"".concat(b,"-").concat(h),t&&"".concat(b,"-").concat(t),m&&"".concat(b,"-numbered"))}))}));b.displayName="ListGroup";var y=Object.assign(b,{Item:Z})}}]);
//# sourceMappingURL=913.ff73cf53.chunk.js.map