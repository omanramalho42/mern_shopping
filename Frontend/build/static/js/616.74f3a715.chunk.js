"use strict";(self.webpackChunkfrontend=self.webpackChunkfrontend||[]).push([[616],{616:function(e,n,t){t.r(n),t.d(n,{default:function(){return E}});var r,a=t(4165),c=t(5861),i=t(9439),s=t(1413),o=t(2791),d=t(3263),u=t(7689),l=t(168),h=t(6444).ZP.img(r||(r=(0,l.Z)(["\n  max-width: 100%;\n"]))),Z=t(9743),p=t(2677),f=t(1398),x=t(9140),v=t(5736),m=t(3360),j=t(2597),y=t(2619),b=t(6907),g=t(4193),C=t(184),I=function(e,n){switch(n.type){case"FETCH_REQUEST":return(0,s.Z)((0,s.Z)({},e),{},{loading:!0});case"FETCH_SUCCESS":return(0,s.Z)((0,s.Z)({},e),{},{product:n.payload,loading:!1});case"FETCH_FAIL":return(0,s.Z)((0,s.Z)({},e),{},{loading:!1,error:n.payload});default:return e}},E=function(){var e=(0,u.UO)().slug,n=(0,u.s0)(),t=(0,o.useReducer)(I,{product:{},loading:!0,error:""}),r=(0,i.Z)(t,2),l=r[0],E=l.loading,k=l.error,w=l.product,S=r[1];(0,o.useEffect)((function(){var n=function(){var n=(0,c.Z)((0,a.Z)().mark((function n(){return(0,a.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return S({type:"FETCH_REQUEST"}),n.next=3,d.Z.get("http://localhost:3001/api/products/slug/".concat(e)).then((function(e){S({type:"FETCH_SUCCESS",payload:e.data})})).catch((function(e){return S({type:"FETCH_FAIL",payload:(0,g.b)(e)})}));case 3:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}();n()}),[e]);var _=(0,o.useContext)(y.y),R=_.state,T=_.dispatch,F=R.cart,N=function(){var e=(0,c.Z)((0,a.Z)().mark((function e(){var t,r,c;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=F.cartItems.find((function(e){return e._id===w._id})),r=t?t.quantity+1:1,e.next=4,d.Z.get("http://localhost:3001/api/products/".concat(w._id));case 4:if(c=e.sent,!(c.data.countInStock<r)){e.next=9;break}return window.alert("Desculpe o produto esta fora de estoque"),e.abrupt("return");case 9:T({type:"CART_ADD_ITEM",payload:(0,s.Z)((0,s.Z)({},w),{},{quantity:r})}),n("/cart");case 11:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return E?(0,C.jsx)(j.pH,{}):k?(0,C.jsx)(j._p,{variant:"danger",children:k}):(0,C.jsx)("div",{children:(0,C.jsxs)(Z.Z,{children:[(0,C.jsx)(p.Z,{md:6,children:(0,C.jsx)(h,{src:w.image,alt:w.name})}),(0,C.jsx)(p.Z,{md:3,children:(0,C.jsxs)(f.Z,{variant:"flush",children:[(0,C.jsxs)(f.Z.Item,{children:[(0,C.jsx)(b.ql,{children:(0,C.jsx)("title",{children:w.name})}),(0,C.jsx)("h1",{children:w.name})]}),(0,C.jsx)(f.Z.Item,{children:(0,C.jsx)(j.iG,{rating:w.rating,numReviews:w.numReviews})}),(0,C.jsxs)(f.Z.Item,{children:["Pre\xe7o : R$",w.price]}),(0,C.jsxs)(f.Z.Item,{children:["Descri\xe7\xe3o : ",w.description]})]})}),(0,C.jsx)(p.Z,{md:3,children:(0,C.jsx)(x.Z,{children:(0,C.jsx)(x.Z.Body,{children:(0,C.jsxs)(f.Z,{variant:"flush",children:[(0,C.jsx)(f.Z.Item,{children:(0,C.jsxs)(Z.Z,{children:[(0,C.jsx)(p.Z,{children:" Pre\xe7o: "}),(0,C.jsxs)(p.Z,{children:[" R$",w.price," "]})]})}),(0,C.jsx)(f.Z.Item,{children:(0,C.jsxs)(Z.Z,{children:[(0,C.jsx)(p.Z,{children:" Status: "}),(0,C.jsx)(p.Z,{children:w.countInStock>0?(0,C.jsx)(v.Z,{bg:"success",children:"Em estoque"}):(0,C.jsx)(v.Z,{bg:"danger",children:"Fora de estoque"})})]})}),w.countInStock>0&&(0,C.jsx)(f.Z.Item,{children:(0,C.jsx)("div",{className:"d-grid",children:(0,C.jsx)(m.Z,{variant:"primary",onClick:N,children:"Adiconar ao carrinho"})})})]})})})})]})})}},1398:function(e,n,t){t.d(n,{Z:function(){return b}});var r=t(1413),a=t(5987),c=t(1694),i=t.n(c),s=t(2791),o=(t(2391),t(8580)),d=t(1337),u=t(162),l=t(9439),h=t(9007),Z=t(4787),p=t(8633),f=t(184),x=["bsPrefix","active","disabled","eventKey","className","variant","action","as"],v=s.forwardRef((function(e,n){var t=e.bsPrefix,c=e.active,s=e.disabled,o=e.eventKey,d=e.className,v=e.variant,m=e.action,j=e.as,y=(0,a.Z)(e,x);t=(0,u.vE)(t,"list-group-item");var b=(0,Z.v)((0,r.Z)({key:(0,p.h)(o,y.href),active:c},y)),g=(0,l.Z)(b,2),C=g[0],I=g[1],E=(0,h.Z)((function(e){if(s)return e.preventDefault(),void e.stopPropagation();C.onClick(e)}));s&&void 0===y.tabIndex&&(y.tabIndex=-1,y["aria-disabled"]=!0);var k=j||(m?y.href?"a":"button":"div");return(0,f.jsx)(k,(0,r.Z)((0,r.Z)((0,r.Z)({ref:n},y),C),{},{onClick:E,className:i()(d,t,I.isActive&&"active",s&&"disabled",v&&"".concat(t,"-").concat(v),m&&"".concat(t,"-action"))}))}));v.displayName="ListGroupItem";var m=v,j=["className","bsPrefix","variant","horizontal","numbered","as"],y=s.forwardRef((function(e,n){var t,c=(0,o.Ch)(e,{activeKey:"onSelect"}),s=c.className,l=c.bsPrefix,h=c.variant,Z=c.horizontal,p=c.numbered,x=c.as,v=void 0===x?"div":x,m=(0,a.Z)(c,j),y=(0,u.vE)(l,"list-group");return Z&&(t=!0===Z?"horizontal":"horizontal-".concat(Z)),(0,f.jsx)(d.Z,(0,r.Z)((0,r.Z)({ref:n},m),{},{as:v,className:i()(s,y,h&&"".concat(y,"-").concat(h),t&&"".concat(y,"-").concat(t),p&&"".concat(y,"-numbered"))}))}));y.displayName="ListGroup";var b=Object.assign(y,{Item:m})}}]);
//# sourceMappingURL=616.74f3a715.chunk.js.map