{"version":3,"file":"static/js/913.ff73cf53.chunk.js","mappings":"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","sources":["styles/Cart.ts","screens/Cart/index.tsx","../node_modules/react-bootstrap/esm/ListGroupItem.js","../node_modules/react-bootstrap/esm/ListGroup.js"],"sourcesContent":["import styled from \"styled-components\";\r\n\r\nexport const Image = styled.img`\r\n  height: 80px;\r\n`; ","import axios from 'axios';\r\nimport React, { useContext } from 'react'\r\nimport { Button, Card, Col, ListGroup, Row } from 'react-bootstrap';\r\nimport { Helmet } from 'react-helmet-async';\r\nimport { Link, Navigate } from 'react-router-dom';\r\nimport { MessageBox } from '../../components';\r\nimport { Store } from '../../context/Store';\r\nimport { Image } from '../../styles/Cart';\r\nimport { useNavigate } from 'react-router-dom';\r\n\r\nconst Cart: React.FC = () => {\r\n  const { state, dispatch: ctxDispatch } = useContext<any>(Store);\r\n  const { \r\n    cart: { cartItems }\r\n  } = state;\r\n  const navigate = useNavigate();\r\n\r\n  const handleUpdateCart = async (item: any, quantity: number) => {\r\n    const { data } = await axios.get(`http://localhost:3001/api/products/${item._id}`);\r\n    \r\n    if(data.countInStock < quantity) {\r\n      window.alert(\"Desculpe o produto esta fora de estoque\");\r\n      return;\r\n    }\r\n\r\n    ctxDispatch({\r\n      type: 'CART_ADD_ITEM', \r\n      payload: { ...item, quantity }\r\n    });\r\n  }\r\n\r\n  const handleRemoveItemCart = (item: any) => {\r\n    ctxDispatch({ type: 'CART_REMOVE_ITEM', payload: item })\r\n  }\r\n\r\n  const handleCheckoutPayament = () => {\r\n    navigate('/signin?redirect=/shipping');\r\n  }\r\n\r\n  return (\r\n    <div>\r\n      <Helmet>\r\n        <title>Carrinho de compras</title>\r\n      </Helmet>\r\n      <h1>Carrinho</h1>\r\n      <Row>\r\n        <Col md={8}>\r\n          {cartItems.length === 0 ? (\r\n            <MessageBox>\r\n              Carrinho vazio. <Link to=\"/\">Voltar as compras</Link>\r\n            </MessageBox>\r\n          ) : (\r\n            <ListGroup>\r\n              {cartItems.map((item: any) => (\r\n                <ListGroup.Item key={item._id}>\r\n                  <Row className='align-items-center'>\r\n                    <Col md={4}>\r\n                      <Image\r\n                        src={item.image}\r\n                        alt={item.name}\r\n                        className=\"img-fluid rounded\"\r\n                      />{' '}\r\n                      <Link to={`/product/${item.slug}`}>{item.name}</Link>\r\n                    </Col>\r\n                    <Col md={3}>\r\n                      <Button \r\n                        variant=\"light\" \r\n                        disabled={item.quantity === 1}\r\n                        onClick={() => handleUpdateCart(item, item.quantity - 1)}\r\n                      >\r\n                        <i className='fas fa-minus-circle'></i>\r\n                      </Button>{' '}\r\n                      <Button \r\n                        variant=\"light\" \r\n                        disabled={item.quantity === item.countInStock}\r\n                        onClick={() => handleUpdateCart(item, item.quantity + 1)}\r\n                      >\r\n                        <i className='fas fa-plus-circle'></i>\r\n                      </Button>{' '}\r\n                    </Col>\r\n                    <Col md={3}>\r\n                      R${item.price}\r\n                    </Col>\r\n                    <Col md={2}>\r\n                      <Button \r\n                        variant='light'\r\n                        onClick={() => handleRemoveItemCart(item)}\r\n                      >\r\n                        <i className='fas fa-trash'></i>\r\n                      </Button>\r\n                    </Col>\r\n                  </Row>\r\n                </ListGroup.Item>\r\n              ))}\r\n            </ListGroup>\r\n          )}\r\n        </Col>\r\n        <Col md={4}>\r\n          <Card>\r\n            <Card.Body>\r\n              <ListGroup variant='flush'>\r\n                <ListGroup.Item>\r\n                  <h3>\r\n                    Subtotal ({cartItems.reduce((a: any, c:any) => a + c.quantity, 0)}{' '}items) : R$\r\n                    {cartItems.reduce((a:any, c:any) => a + c.price * c.quantity, 0)}\r\n                  </h3>\r\n                </ListGroup.Item>\r\n                <ListGroup.Item>\r\n                  <div className='d-grid'>\r\n                    <Button\r\n                      type=\"button\"\r\n                      variant=\"primary\"\r\n                      disabled={cartItems.length === 0}\r\n                      onClick={() => handleCheckoutPayament()}\r\n                    >\r\n                      Prosseguir com o pagamento\r\n                    </Button>\r\n                  </div>\r\n                </ListGroup.Item>\r\n              </ListGroup>\r\n            </Card.Body>\r\n          </Card>\r\n        </Col>\r\n      </Row>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Cart","import classNames from 'classnames';\nimport * as React from 'react';\nimport warning from 'warning';\nimport useEventCallback from '@restart/hooks/useEventCallback';\nimport { useNavItem } from '@restart/ui/NavItem';\nimport { makeEventKey } from '@restart/ui/SelectableContext';\nimport { useBootstrapPrefix } from './ThemeProvider';\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nconst ListGroupItem = /*#__PURE__*/React.forwardRef(({\n  bsPrefix,\n  active,\n  disabled,\n  eventKey,\n  className,\n  variant,\n  action,\n  as,\n  ...props\n}, ref) => {\n  bsPrefix = useBootstrapPrefix(bsPrefix, 'list-group-item');\n  const [navItemProps, meta] = useNavItem({\n    key: makeEventKey(eventKey, props.href),\n    active,\n    ...props\n  });\n  const handleClick = useEventCallback(event => {\n    if (disabled) {\n      event.preventDefault();\n      event.stopPropagation();\n      return;\n    }\n    navItemProps.onClick(event);\n  });\n  if (disabled && props.tabIndex === undefined) {\n    props.tabIndex = -1;\n    props['aria-disabled'] = true;\n  }\n\n  // eslint-disable-next-line no-nested-ternary\n  const Component = as || (action ? props.href ? 'a' : 'button' : 'div');\n  process.env.NODE_ENV !== \"production\" ? warning(as || !(!action && props.href), '`action=false` and `href` should not be used together.') : void 0;\n  return /*#__PURE__*/_jsx(Component, {\n    ref: ref,\n    ...props,\n    ...navItemProps,\n    onClick: handleClick,\n    className: classNames(className, bsPrefix, meta.isActive && 'active', disabled && 'disabled', variant && `${bsPrefix}-${variant}`, action && `${bsPrefix}-action`)\n  });\n});\nListGroupItem.displayName = 'ListGroupItem';\nexport default ListGroupItem;","import classNames from 'classnames';\nimport * as React from 'react';\nimport warning from 'warning';\nimport { useUncontrolled } from 'uncontrollable';\nimport BaseNav from '@restart/ui/Nav';\nimport { useBootstrapPrefix } from './ThemeProvider';\nimport ListGroupItem from './ListGroupItem';\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nconst ListGroup = /*#__PURE__*/React.forwardRef((props, ref) => {\n  const {\n    className,\n    bsPrefix: initialBsPrefix,\n    variant,\n    horizontal,\n    numbered,\n    // Need to define the default \"as\" during prop destructuring to be compatible with styled-components github.com/react-bootstrap/react-bootstrap/issues/3595\n    as = 'div',\n    ...controlledProps\n  } = useUncontrolled(props, {\n    activeKey: 'onSelect'\n  });\n  const bsPrefix = useBootstrapPrefix(initialBsPrefix, 'list-group');\n  let horizontalVariant;\n  if (horizontal) {\n    horizontalVariant = horizontal === true ? 'horizontal' : `horizontal-${horizontal}`;\n  }\n  process.env.NODE_ENV !== \"production\" ? warning(!(horizontal && variant === 'flush'), '`variant=\"flush\"` and `horizontal` should not be used together.') : void 0;\n  return /*#__PURE__*/_jsx(BaseNav, {\n    ref: ref,\n    ...controlledProps,\n    as: as,\n    className: classNames(className, bsPrefix, variant && `${bsPrefix}-${variant}`, horizontalVariant && `${bsPrefix}-${horizontalVariant}`, numbered && `${bsPrefix}-numbered`)\n  });\n});\nListGroup.displayName = 'ListGroup';\nexport default Object.assign(ListGroup, {\n  Item: ListGroupItem\n});"],"names":["Image","styled","useContext","Store","state","ctxDispatch","dispatch","cartItems","cart","navigate","useNavigate","handleUpdateCart","item","quantity","axios","_id","data","countInStock","window","alert","type","payload","Row","Col","md","length","Link","to","ListGroup","map","className","src","image","alt","name","slug","Button","variant","disabled","onClick","price","handleRemoveItemCart","Card","reduce","a","c","ListGroupItem","React","ref","bsPrefix","active","eventKey","action","as","props","useBootstrapPrefix","useNavItem","key","makeEventKey","href","navItemProps","meta","handleClick","useEventCallback","event","preventDefault","stopPropagation","undefined","tabIndex","Component","_jsx","classNames","isActive","displayName","horizontalVariant","useUncontrolled","activeKey","initialBsPrefix","horizontal","numbered","controlledProps","BaseNav","Object","assign","Item"],"sourceRoot":""}