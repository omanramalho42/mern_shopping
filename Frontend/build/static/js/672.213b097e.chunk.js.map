{"version":3,"file":"static/js/672.213b097e.chunk.js","mappings":"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","sources":["styles/PlaceOrder.ts","screens/PlaceOrder/index.tsx","../node_modules/react-bootstrap/esm/ListGroupItem.js","../node_modules/react-bootstrap/esm/ListGroup.js"],"sourcesContent":["import styled from \"styled-components\";\r\n\r\nexport const Container = styled.div`\r\n  max-width: 600px;\r\n`;\r\n\r\nexport const Image = styled.img`\r\n  max-width: 100px;\r\n`;","import React, { useContext, useEffect, useReducer } from 'react'\r\n\r\nimport axios from 'axios'\r\n\r\nimport { Store } from '../../context/Store'\r\n\r\nimport { Link, useNavigate } from 'react-router-dom'\r\n\r\nimport { Helmet } from 'react-helmet-async'\r\n\r\nimport { toast } from 'react-toastify'\r\nimport { getError } from '../../util/utils'\r\n\r\nimport { CheckoutSteps, LoadingBox } from '../../components'\r\n\r\nimport { Button, Card, Col, ListGroup, Row } from 'react-bootstrap'\r\n\r\nimport { \r\n  Container,\r\n  Image\r\n} from '../../styles/PlaceOrder'\r\n\r\nconst reducer = (state: any, action: any) => {\r\n  switch(action.type) {\r\n    case 'CREATE_REQUEST':\r\n      return { ...state, loading: true }\r\n    case 'CREATE_SUCCESS':\r\n      return { ...state, loading: false }\r\n    case 'CREATE_FAIL':\r\n      return { ...state, loading: false }\r\n    default: \r\n      return state;\r\n  }\r\n}\r\n\r\nconst PlaceOrder:React.FC = () => {\r\n  const navigate = useNavigate();\r\n\r\n  const [{loading, error}, dispatch] = useReducer(reducer, {\r\n    loading: false,\r\n    error: ''\r\n  })\r\n\r\n  const { state, dispatch: ctxDispatch } = useContext(Store);\r\n  const { \r\n    cart, userInfo\r\n  } = state;\r\n\r\n  const round2 = (num: any) => Math.round(num * 100 + Number.EPSILON) / 100;\r\n  cart.itemsPrice = round2(\r\n    cart.cartItems.reduce((a: any, c: any) => a + c.quantity * c.price, 0)\r\n  );\r\n  cart.shippingPrice = cart.itemsPrice > 100 ? round2(0) : round2(10);\r\n  cart.taxPrice = round2(0.15 * cart.itemsPrice);\r\n  cart.totalPrice = cart.itemsPrice + cart.shippingPrice + cart.taxPrice;\r\n\r\n  const handlePlaceOrder = async () => {\r\n    try {\r\n      dispatch({ type: 'CREATE_REQUEST' });\r\n    \r\n      const { data } = await axios.post(\r\n        'http://localhost:3001/api/orders',\r\n        {\r\n          orderItems: cart.cartItems,\r\n          shippingAddress: cart.shippingAddress,\r\n          payamentMethod: cart.payamentMethod,\r\n          itemsPrice: cart.itemsPrice,\r\n          shippingPrice: cart.shippingPrice,\r\n          taxPrice: cart.taxPrice,\r\n          totalPrice: cart.totalPrice,\r\n        },\r\n        { \r\n          headers: {\r\n            authorization: `Bearer ${userInfo.token}`\r\n          },\r\n        }\r\n      );\r\n\r\n      ctxDispatch({ type: 'CART_CLEAR' });\r\n      dispatch({ type: 'CREATE_SUCCESS' });\r\n      localStorage.removeItem('cartItems');\r\n\r\n      navigate(`/order/${data.order._id}`);\r\n    } catch (error) {\r\n      dispatch({ type: 'CREATE_FAIL' });\r\n      toast.error(getError(error));\r\n    }\r\n  }\r\n\r\n  useEffect(() => {\r\n    if(!cart.payamentMethod) {\r\n      navigate(\"payament\");\r\n    }\r\n  }, [cart, navigate])\r\n  \r\n\r\n  return (\r\n    <div>\r\n      <CheckoutSteps step1 step2 step3 step4 />\r\n      <Helmet>\r\n        <title>Visualizar Pedido</title>\r\n      </Helmet>\r\n      <h1 className=\"my-3\">\r\n        Visualizar Pedido\r\n      </h1>\r\n      <Row>\r\n        <Col md={8}>\r\n          <Card className='mb-3'>\r\n            <Card.Body>\r\n              <Card.Title>Shipping</Card.Title>\r\n              <Card.Text>\r\n                <strong>Name:</strong> {cart.shippingAddress.fullName} <br />\r\n                <strong>Address:</strong> {cart.shippingAddress.address},\r\n                {cart.shippingAddress.city}, {cart.shippingAddress.postalCode},\r\n                {cart.shippingAddress.country}\r\n              </Card.Text>\r\n              <Link to=\"/shipping\">Edit</Link>\r\n            </Card.Body>\r\n          </Card>\r\n          \r\n          <Card className='mb-3'>\r\n            <Card.Body>\r\n              <Card.Title>Payament</Card.Title>\r\n              <Card.Text>\r\n                <strong>Method:</strong> {cart.payamentMethod}\r\n              </Card.Text>\r\n              <Link to=\"/payament\">Edit</Link>\r\n            </Card.Body>\r\n          </Card>\r\n\r\n          <Card className='mb-3'>\r\n            <Card.Body>\r\n              <Card.Title>Items</Card.Title>\r\n              <ListGroup variant='flush'>\r\n                {cart.cartItems.map((item: any) => (\r\n                  <ListGroup.Item key={item._id}>\r\n                    <Row className='align-items-center'>\r\n                      <Col md={6}>\r\n                        <Image \r\n                          src={item.image} \r\n                          alt={item.name} \r\n                          className=\"img-fluid rounded img-thumbnail\" \r\n                        /> {' '}\r\n                        <Link to={`/product/${item._slug}`}>\r\n                          {item.name}\r\n                        </Link>\r\n                      </Col>\r\n                      <Col md={3}><span>{item.quantity}</span></Col>\r\n                      <Col md={3}>R${item.price}</Col>\r\n                    </Row>\r\n                  </ListGroup.Item>\r\n                ))}\r\n              </ListGroup>\r\n              <Link to=\"/cart\">Edit</Link>\r\n            </Card.Body>\r\n          </Card>\r\n        </Col>\r\n        <Col md={4}>\r\n          <Card>\r\n            <Card.Body>\r\n              <Card.Title>Order summary</Card.Title>\r\n              <ListGroup variant='flush'>\r\n                  <ListGroup.Item>\r\n                    <Row>\r\n                      <Col>Items</Col>\r\n                      <Col>R${cart.itemsPrice.toFixed(2)}</Col>\r\n                    </Row>\r\n                  </ListGroup.Item>\r\n                  <ListGroup.Item>\r\n                    <Row>\r\n                      <Col>Shipping</Col>\r\n                      <Col>R${cart.shippingPrice.toFixed(2)}</Col>\r\n                    </Row>\r\n                  </ListGroup.Item>\r\n                  <ListGroup.Item>\r\n                    <Row>\r\n                      <Col>Tax</Col>\r\n                      <Col>R${cart.taxPrice.toFixed(2)}</Col>\r\n                    </Row>\r\n                  </ListGroup.Item>\r\n                  <ListGroup.Item>\r\n                    <Row>\r\n                      <Col>\r\n                        <strong>Order Total</strong>\r\n                      </Col>\r\n                      <Col>\r\n                        <strong>R${cart.totalPrice.toFixed(2)}</strong>\r\n                      </Col>\r\n                    </Row>\r\n                  </ListGroup.Item>\r\n                  <ListGroup.Item>\r\n                    <div className='d-grid'>\r\n                      <Button\r\n                        type=\"button\"\r\n                        onClick={handlePlaceOrder}\r\n                        disabled={cart.cartItems.length === 0}\r\n                      >\r\n                        Place Order\r\n                      </Button>\r\n                    </div>\r\n                    {loading && <LoadingBox />}\r\n                  </ListGroup.Item>\r\n              </ListGroup>\r\n            </Card.Body>\r\n          </Card>\r\n        </Col>\r\n      </Row>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default PlaceOrder","import classNames from 'classnames';\nimport * as React from 'react';\nimport warning from 'warning';\nimport useEventCallback from '@restart/hooks/useEventCallback';\nimport { useNavItem } from '@restart/ui/NavItem';\nimport { makeEventKey } from '@restart/ui/SelectableContext';\nimport { useBootstrapPrefix } from './ThemeProvider';\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nconst ListGroupItem = /*#__PURE__*/React.forwardRef(({\n  bsPrefix,\n  active,\n  disabled,\n  eventKey,\n  className,\n  variant,\n  action,\n  as,\n  ...props\n}, ref) => {\n  bsPrefix = useBootstrapPrefix(bsPrefix, 'list-group-item');\n  const [navItemProps, meta] = useNavItem({\n    key: makeEventKey(eventKey, props.href),\n    active,\n    ...props\n  });\n  const handleClick = useEventCallback(event => {\n    if (disabled) {\n      event.preventDefault();\n      event.stopPropagation();\n      return;\n    }\n    navItemProps.onClick(event);\n  });\n  if (disabled && props.tabIndex === undefined) {\n    props.tabIndex = -1;\n    props['aria-disabled'] = true;\n  }\n\n  // eslint-disable-next-line no-nested-ternary\n  const Component = as || (action ? props.href ? 'a' : 'button' : 'div');\n  process.env.NODE_ENV !== \"production\" ? warning(as || !(!action && props.href), '`action=false` and `href` should not be used together.') : void 0;\n  return /*#__PURE__*/_jsx(Component, {\n    ref: ref,\n    ...props,\n    ...navItemProps,\n    onClick: handleClick,\n    className: classNames(className, bsPrefix, meta.isActive && 'active', disabled && 'disabled', variant && `${bsPrefix}-${variant}`, action && `${bsPrefix}-action`)\n  });\n});\nListGroupItem.displayName = 'ListGroupItem';\nexport default ListGroupItem;","import classNames from 'classnames';\nimport * as React from 'react';\nimport warning from 'warning';\nimport { useUncontrolled } from 'uncontrollable';\nimport BaseNav from '@restart/ui/Nav';\nimport { useBootstrapPrefix } from './ThemeProvider';\nimport ListGroupItem from './ListGroupItem';\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nconst ListGroup = /*#__PURE__*/React.forwardRef((props, ref) => {\n  const {\n    className,\n    bsPrefix: initialBsPrefix,\n    variant,\n    horizontal,\n    numbered,\n    // Need to define the default \"as\" during prop destructuring to be compatible with styled-components github.com/react-bootstrap/react-bootstrap/issues/3595\n    as = 'div',\n    ...controlledProps\n  } = useUncontrolled(props, {\n    activeKey: 'onSelect'\n  });\n  const bsPrefix = useBootstrapPrefix(initialBsPrefix, 'list-group');\n  let horizontalVariant;\n  if (horizontal) {\n    horizontalVariant = horizontal === true ? 'horizontal' : `horizontal-${horizontal}`;\n  }\n  process.env.NODE_ENV !== \"production\" ? warning(!(horizontal && variant === 'flush'), '`variant=\"flush\"` and `horizontal` should not be used together.') : void 0;\n  return /*#__PURE__*/_jsx(BaseNav, {\n    ref: ref,\n    ...controlledProps,\n    as: as,\n    className: classNames(className, bsPrefix, variant && `${bsPrefix}-${variant}`, horizontalVariant && `${bsPrefix}-${horizontalVariant}`, numbered && `${bsPrefix}-numbered`)\n  });\n});\nListGroup.displayName = 'ListGroup';\nexport default Object.assign(ListGroup, {\n  Item: ListGroupItem\n});"],"names":["Image","styled","reducer","state","action","type","loading","navigate","useNavigate","useReducer","error","dispatch","useContext","Store","ctxDispatch","cart","userInfo","round2","num","Math","round","Number","EPSILON","itemsPrice","cartItems","reduce","a","c","quantity","price","shippingPrice","taxPrice","totalPrice","handlePlaceOrder","axios","orderItems","shippingAddress","payamentMethod","headers","authorization","token","data","localStorage","removeItem","order","_id","toast","getError","useEffect","step1","step2","step3","step4","className","Row","Col","md","Card","fullName","address","city","postalCode","country","Link","to","ListGroup","variant","map","item","src","image","alt","name","_slug","toFixed","Button","onClick","disabled","length","ListGroupItem","React","ref","bsPrefix","active","eventKey","as","props","useBootstrapPrefix","useNavItem","key","makeEventKey","href","navItemProps","meta","handleClick","useEventCallback","event","preventDefault","stopPropagation","undefined","tabIndex","Component","_jsx","classNames","isActive","displayName","horizontalVariant","useUncontrolled","activeKey","initialBsPrefix","horizontal","numbered","controlledProps","BaseNav","Object","assign","Item"],"sourceRoot":""}