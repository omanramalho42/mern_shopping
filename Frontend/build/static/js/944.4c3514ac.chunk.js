"use strict";(self.webpackChunkfrontend=self.webpackChunkfrontend||[]).push([[944],{8944:function(e,n,t){t.r(n);var r=t(4165),s=t(5861),a=t(9439),i=t(2791),c=t(3263),o=t(7689),u=t(6907),l=t(6516),d=t(3360),h=t(1087),p=t(5953),f=t(2619),m=t(9085),x=t(4193),j=t(184);n.default=function(){var e=(0,o.TH)().search,n=new URLSearchParams(e).get("redirect"),t=n||"/",Z=(0,i.useState)(""),v=(0,a.Z)(Z,2),b=v[0],g=v[1],w=(0,i.useState)(""),y=(0,a.Z)(w,2),C=y[0],N=y[1],S=(0,i.useContext)(f.y),k=S.state,I=S.dispatch,L=k.userInfo,q=(0,o.s0)(),E=function(){var e=(0,s.Z)((0,r.Z)().mark((function e(n){var s,a,i;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s={"Content-Type":"application/json",Authorization:"bearer secret"},n.preventDefault(),e.prev=2,e.next=5,c.Z.post("http://localhost:3001/api/users/signin",{email:b,password:C},{headers:s});case 5:a=e.sent,i=a.data,I({type:"USER_SIGNIN",payload:i}),localStorage.setItem("userInfo",JSON.stringify(i)),q(t||"/"),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(2),m.Am.error((0,x.b)(e.t0));case 15:case"end":return e.stop()}}),e,null,[[2,12]])})));return function(n){return e.apply(this,arguments)}}();return(0,i.useEffect)((function(){L&&q(t)}),[q,t,L]),(0,j.jsxs)(p.W,{children:[(0,j.jsx)(u.ql,{children:(0,j.jsx)("title",{children:"Login"})}),(0,j.jsx)("h1",{className:"my-3",children:"Login"}),(0,j.jsxs)(l.Z,{onSubmit:E,children:[(0,j.jsxs)(l.Z.Group,{className:"mb-3",controlId:"email",children:[(0,j.jsx)(l.Z.Label,{children:"Email"}),(0,j.jsx)(l.Z.Control,{type:"email",required:!0,onChange:function(e){return g(e.target.value)}})]}),(0,j.jsxs)(l.Z.Group,{className:"mb-3",controlId:"password",children:[(0,j.jsx)(l.Z.Label,{children:"Senha"}),(0,j.jsx)(l.Z.Control,{type:"password",required:!0,onChange:function(e){return N(e.target.value)}})]}),(0,j.jsx)("div",{className:"mb-3",children:(0,j.jsx)(d.Z,{type:"submit",children:"Login"})}),(0,j.jsxs)("div",{className:"mb-3",children:["New Customer"," ",(0,j.jsx)(h.Link,{to:"/signup?redirect".concat(t),children:"Crie sua conta"})]})]})]})}},5953:function(e,n,t){t.d(n,{W:function(){return a}});var r,s=t(168),a=t(6444).ZP.div(r||(r=(0,s.Z)(["\n  max-width: 600px;\n"])))}}]);
//# sourceMappingURL=944.4c3514ac.chunk.js.map